<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  
    <meta name="keywords" content="NO response">
  
  
    <meta name="description" content="what you will be,the world will be">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    Python正则表达式 |
    
    种花家</title>
  
    <link rel="shortcut icon" href="/images/rabbit.png">
  
  <link rel="stylesheet" href="../../../../css/style.css">
  <link rel="stylesheet" href="../../../../css/technology.css">
  
    <link rel="stylesheet" href="../../../../fancybox/jquery.fancybox.min.css">
  
  <script src="../../../../js/pace.min.js"></script>
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <section class="outer">
  <article id="post-Python正则表达式" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Python正则表达式
    </h1>
  

      </header>
    

    
      <div class="article-meta">
        <a href class="article-date">
  <time datetime="2019-09-12T07:55:00.000Z" itemprop="datePublished">2019-09-12</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="../../../../categories/Python/">Python</a>
  </div>

      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h3 id="学习地址"><a href="#学习地址" class="headerlink" title="学习地址"></a><center><a href="https://www.bilibili.com/video/av41861090?from=search&amp;seid=13092767094576234643" target="_blank" rel="noopener">学习地址</a><center></center></center></h3><p>参考资料：</p>
<ol>
<li><a href="https://www.runoob.com/python/python-reg-expressions.html" target="_blank" rel="noopener">Python 正则表达式</a></li>
<li><a href="https://www.bilibili.com/video/av62160077?from=search&amp;seid=17515103713354790628" target="_blank" rel="noopener">正则表达式精讲</a></li>
</ol>
<hr>
<h4 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h4><ol>
<li>处理文本(字符串)</li>
<li>语言规则</li>
<li>前端通用</li>
</ol>
<h4 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h4><p><code>import re</code><br>全称：regular expression</p>
<h4 id="正则表达式语法"><a href="#正则表达式语法" class="headerlink" title="正则表达式语法"></a>正则表达式语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">^         匹配字符串开头如 ^p</span><br><span class="line">$         匹配字符串结尾如 $n</span><br><span class="line">\A        指定字符串必须出线在开头</span><br><span class="line">\Z        指定字符串必须出线在结尾</span><br><span class="line">.         匹配任意一个字符</span><br><span class="line">[...]     匹配字符集</span><br><span class="line">\d        匹配一个数字</span><br><span class="line">\D        匹配一个非数字</span><br><span class="line">\s        匹配一个空白字符</span><br><span class="line">\S        匹配一个非空白字符</span><br><span class="line">\w        匹配一个数字或字母</span><br><span class="line">\W        匹配一个非单词字符</span><br><span class="line">[^...]    [^abc] 匹配除了a,b,c之外的字符</span><br><span class="line">*         匹配前一个字符0次或无限次</span><br><span class="line">+         匹配前一个字符1次或无限次</span><br><span class="line">?         匹配前一个字符0次或1次</span><br></pre></td></tr></table></figure>
<h4 id="正则表达式修饰符-可选标志"><a href="#正则表达式修饰符-可选标志" class="headerlink" title="正则表达式修饰符 - 可选标志"></a>正则表达式修饰符 - 可选标志</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">re.I	使匹配对大小写不敏感</span><br><span class="line">re.L	做本地化识别（locale-aware）匹配</span><br><span class="line">re.M	多行匹配，影响 ^ 和 $</span><br><span class="line">re.S	使 . 匹配包括换行在内的所有字符</span><br><span class="line">re.U	根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.</span><br><span class="line">re.X	该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。</span><br></pre></td></tr></table></figure>
<h4 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h4><h5 id="1-re-findall"><a href="#1-re-findall" class="headerlink" title="1. re.findall()"></a>1. re.findall()</h5><p>说明：Return a list of all non-overlapping matches in the string,If one or more capturing groups are present in the pattern, return a list of groups; this will be a list of tuples if the pattern has more than one group. - 以列表的形式返回所有不重叠的所匹配到的子串，如果匹配失败返回空列表[]；如果模式串中有多个组，以列表形式返回所有匹配到的元组<br>示例1：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;aaabaabc&apos;</span><br><span class="line">print(re.findall(&apos;aa&apos;,a))</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[&apos;aa&apos;, &apos;aa&apos;]</span><br></pre></td></tr></table></figure></p>
<p>示例2：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a23bc456def&apos;</span><br><span class="line">print(re.findall(&apos;(\d+)(..)&apos;,a))</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[(&apos;1&apos;, &apos;a2&apos;), (&apos;3&apos;, &apos;bc&apos;), (&apos;456&apos;, &apos;de&apos;)]</span><br></pre></td></tr></table></figure></p>
<p>元字符： 在正则表达式中具有特殊意义的专用字符，比如<code>\d</code>表示数字<br>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a2b3c&apos;</span><br><span class="line">print(re.findall(&apos;\d&apos;,a)) # 如果想搜索两个数字需要用\d\d，依次类推，但比较麻烦，可以使用+号</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;]</span><br></pre></td></tr></table></figure></p>
<h5 id="2-‘-’-、-‘-’-和-‘-’-号的使用"><a href="#2-‘-’-、-‘-’-和-‘-’-号的使用" class="headerlink" title="2. ‘+’ 、 ‘*’  和 ‘.’ 号的使用"></a>2. ‘+’ 、 ‘*’  和 ‘.’ 号的使用</h5><p>说明：’+’ 匹配一个或多个字符， ‘*’  匹配0个或多个字符 ，’.’ 匹配任意一个字符</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;12a34b567c&apos;</span><br><span class="line">print(re.findall(&apos;\d+&apos;,a)) # 连续匹配直到非数字</span><br><span class="line">print(re.findall(&apos;\d*&apos;,a)) </span><br><span class="line">print(re.findall(&apos;\d+.&apos;,a)) # 与 print(re.findall(&apos;\d*.&apos;,a)) 结果相同</span><br><span class="line">&gt;&gt;&gt;[&apos;12&apos;, &apos;34&apos;, &apos;567&apos;]</span><br><span class="line">&gt;&gt;&gt;[&apos;12&apos;, &apos;&apos;, &apos;34&apos;, &apos;&apos;, &apos;567&apos;, &apos;&apos;, &apos;&apos;]</span><br><span class="line">&gt;&gt;&gt;[&apos;12a&apos;, &apos;34b&apos;, &apos;567c&apos;]</span><br></pre></td></tr></table></figure></p>
<h5 id="3-范匹配与精确匹配"><a href="#3-范匹配与精确匹配" class="headerlink" title="3. 范匹配与精确匹配"></a>3. 范匹配与精确匹配</h5><p>范匹配： 在搜索想要的内容时把其他的内容也匹配进来了<br>精确匹配： 在范匹配的基础上得到想要的内容，方法是用<code>()</code>将想要的内容括起来<br>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a23bc456def&apos;</span><br><span class="line">print(re.findall(&apos;\d+(..)&apos;,a)) # 精确匹配</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[&apos;a2&apos;, &apos;bc&apos;, &apos;de&apos;]</span><br></pre></td></tr></table></figure></p>
<h5 id="4-字符集"><a href="#4-字符集" class="headerlink" title="4. 字符集"></a>4. 字符集</h5><p>说明：用<code>[]</code>指定搜索字符集<br>示例1：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a23bc456def&apos;</span><br><span class="line">print(re.findall(&apos;[0-9]&apos;,a))</span><br><span class="line">print(re.findall(&apos;[0-9]+&apos;,a))</span><br><span class="line">print(re.findall(&apos;[0-9a-z]&apos;,a))</span><br><span class="line">print(re.findall(&apos;[0-9]&#123;2&#125;&apos;,a)) # 指定匹配长度为2，&#123;2,5&#125;指定长度为2/3/4/5，注意不会重复匹配</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;]</span><br><span class="line">&gt;&gt;&gt;[&apos;1&apos;, &apos;23&apos;, &apos;456&apos;]</span><br><span class="line">&gt;&gt;&gt;[&apos;1&apos;, &apos;a&apos;, &apos;2&apos;, &apos;3&apos;, &apos;b&apos;, &apos;c&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;]</span><br><span class="line">&gt;&gt;&gt;[&apos;23&apos;, &apos;45&apos;]</span><br></pre></td></tr></table></figure></p>
<h5 id="5-贪婪匹配-默认-与非贪婪匹配"><a href="#5-贪婪匹配-默认-与非贪婪匹配" class="headerlink" title="5. 贪婪匹配(默认)与非贪婪匹配"></a>5. 贪婪匹配(默认)与非贪婪匹配</h5><p>说明：当有多种匹配情况时，尽量往后靠，比如指定长度{2,5}，会直接先匹配5<br>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a23bc456def&apos;</span><br><span class="line">print(re.findall(&apos;[0-9]&#123;1,3&#125;&apos;,a))  # 贪婪匹配，直接匹配456而非截取45</span><br><span class="line">print(re.findall(&apos;[0-9]&#123;1,3&#125;?&apos;,a),re.S) # 非贪婪匹配,re.S为可选参数表示忽略换行符的影响</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[&apos;1&apos;, &apos;23&apos;, &apos;456&apos;]</span><br><span class="line">&gt;&gt;&gt;[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;]</span><br></pre></td></tr></table></figure></p>
<h5 id="6-re-match"><a href="#6-re-match" class="headerlink" title="6. re.match()"></a>6. re.match()</h5><p>说明：Try to apply the pattern at the start of the string, returning a match object, or None if no match was found - 匹配开头，只匹配一次，成功返回对象，否则返回None<br>语法： <code>re.match(pattern, string, flags=0)</code>,  pattern表示匹配的正则表达式， string 表示要匹配的字符串。flags    标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a 23bc 456def&apos;</span><br><span class="line">print(re.match(&apos;a&apos;,a))</span><br><span class="line">print(re.match(&apos;1a 23bc&apos;,a))</span><br><span class="line">print(re.match(&apos;1a 23bc&apos;,a,).group()) # 查看匹配结果</span><br><span class="line">print(re.match(&apos;1a 23bc&apos;,a).span())  # 返回匹配下标范围如果失败报错</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;None</span><br><span class="line">&gt;&gt;&gt;&lt;_sre.SRE_Match object; span=(0, 7), match=&apos;1a 23bc&apos;&gt;</span><br><span class="line">&gt;&gt;&gt;1a 23bc</span><br><span class="line">&gt;&gt;&gt;(0, 7)</span><br></pre></td></tr></table></figure></p>
<h5 id="7-re-search"><a href="#7-re-search" class="headerlink" title="7. re.search()"></a>7. re.search()</h5><p>说明：re.search 扫描整个字符串并返回第一个成功的匹配。匹配成功re.search方法返回一个匹配的对象，否则返回None。  </p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">print(re.search(&apos;www&apos;, &apos;www.runoob.com&apos;).span())  # 在起始位置匹配</span><br><span class="line">print(re.search(&apos;com&apos;, &apos;www.runoob.com&apos;).span())         # 不在起始位置匹配</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;(0,3)</span><br><span class="line">&gt;&gt;&gt;(11,14)</span><br></pre></td></tr></table></figure></p>
<h5 id="8-re-compile"><a href="#8-re-compile" class="headerlink" title="8.  re.compile()"></a>8.  re.compile()</h5><p>说明：Compile a regular expression pattern, returning a pattern object - compile 函数用于编译正则表达式，生成一个正则表达式（ Pattern ）对象。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a 23bc 456def&apos;</span><br><span class="line">reg=re.compile(&apos;\d+&apos;) # 避免重复</span><br><span class="line">print(re.findall(reg,a))</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[&apos;1&apos;, &apos;23&apos;, &apos;456&apos;]</span><br></pre></td></tr></table></figure></p>
<h5 id="9-re-sub"><a href="#9-re-sub" class="headerlink" title="9. re.sub()"></a>9. re.sub()</h5><p>说明：将字符串中正则表达式所匹配到的内容替换为指定内容。<br>语法：<code>re.sub(pattern, repl, string, count=0, flags=0)</code>，pattern : 正则中的模式字符串；repl : 替换的字符串，也可为一个函数；string : 要被查找替换的原始字符串；count : 模式匹配后替换的最大次数，默认 0 表示替换所有的匹配。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a 23bc 456def&apos;</span><br><span class="line">print(&apos;Before:&apos;,a)</span><br><span class="line">a=re.sub(&apos;\s&apos;,&apos;&apos;,a) # 匹配任意空白字符,等价于[\t\n\r\f]</span><br><span class="line">print(&apos;After:&apos;,a)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;Before: 1a 23bc 456def</span><br><span class="line">&gt;&gt;&gt;After: 1a23bc456def</span><br></pre></td></tr></table></figure></p>
<h5 id="10-re-split"><a href="#10-re-split" class="headerlink" title="10. re.split()"></a>10. re.split()</h5><p>说明：split 方法按照能够匹配的子串将字符串分割后返回列表<br>语法：<code>re.split(pattern, string, maxsplit=0, flags=0])</code>，maxsplit    分隔次数，maxsplit=1 分隔一次，默认为 0，不限制次数</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=&apos;1a 23bc 456def&apos;</span><br><span class="line">print(re.split(&apos;\W&apos;,a))</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[&apos;1a&apos;, &apos;23bc&apos;, &apos;456def&apos;]</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://sfz-lyq.cn/2019/09/12/Python正则表达式/" data-id="ck45j8t2x003qdspvpmf6excv" class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/Python/">Python</a></li></ul>

    </footer>

  </div>

  
    
  <nav class="article-nav">
    
      <a href="../../13/Python爬虫小练习/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            Python爬虫小练习
          
        </div>
      </a>
    
    
      <a href="../../09/牛客练习赛51-部分题解/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">牛客练习赛51 部分题解</div>
      </a>
    
  </nav>


  

  
    
  

</article>



</section>
    </div>
    <script src="../../../../js/jquery-2.0.3.min.js"></script>
<script src="../../../../js/lazyload.min.js"></script>
<script src="../../../../js/busuanzi-2.3.pure.min.js"></script>


  <script src="../../../../fancybox/jquery.fancybox.min.js"></script>



  <script src="../../../../js/search.js"></script>


<script src="../../../../js/technology.js"></script>

  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
</html>