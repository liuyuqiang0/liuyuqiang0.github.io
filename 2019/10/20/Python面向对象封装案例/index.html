<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  
    <meta name="keywords" content="NO response">
  
  
    <meta name="description" content="what you will be,the world will be">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    Python面向对象封装案例 |
    
    种花家</title>
  
    <link rel="shortcut icon" href="/images/rabbit.png">
  
  <link rel="stylesheet" href="../../../../css/style.css">
  <link rel="stylesheet" href="../../../../css/technology.css">
  
    <link rel="stylesheet" href="../../../../fancybox/jquery.fancybox.min.css">
  
  <script src="../../../../js/pace.min.js"></script>
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <section class="outer">
  <article id="post-Python面向对象封装案例" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Python面向对象封装案例
    </h1>
  

      </header>
    

    
      <div class="article-meta">
        <a href class="article-date">
  <time datetime="2019-10-20T02:44:00.000Z" itemprop="datePublished">2019-10-20</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="../../../../categories/Python/">Python</a>
  </div>

      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h3 id="学习地址"><a href="#学习地址" class="headerlink" title="学习地址"></a><center><a href="https://www.bilibili.com/video/av68350017/?p=405" target="_blank" rel="noopener">学习地址</a></center></h3><h4 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h4><ul>
<li>封装</li>
<li>小明爱跑步</li>
<li>存放家具</li>
</ul>
<hr>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><ul>
<li>小明爱跑步</li>
</ul>
<h5 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h5><ol>
<li>小明<strong>体重</strong>75.0 Kg</li>
<li>每次<strong>跑步</strong>减肥0.5公斤</li>
<li>每次<strong>吃东西</strong>增加1公斤<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; Person  </span><br><span class="line">&gt;  -----------</span><br><span class="line">&gt; name，weight</span><br><span class="line">&gt; ------------</span><br><span class="line">&gt; `__init__`(self,name,weight):  </span><br><span class="line">&gt; `__str__`(self):  </span><br><span class="line">&gt; running(self):  </span><br><span class="line">&gt; eating(self):</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class Person:</span><br><span class="line">    def __init__(self,name,weight):</span><br><span class="line">        # self.属性=形参</span><br><span class="line">        self.name=name</span><br><span class="line">        self.weight=weight</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &apos;my name is %s&apos; %self.name</span><br><span class="line">    def eating(self):</span><br><span class="line">        self.weight+=1</span><br><span class="line">    def running(self):</span><br><span class="line">        self.weight-=0.5</span><br><span class="line"></span><br><span class="line">xiaoming=Person(&apos;小明&apos;,75.0)</span><br><span class="line">print(xiaoming)</span><br><span class="line"></span><br><span class="line">- - - - - - - - - - - </span><br><span class="line">my name is 小明</span><br></pre></td></tr></table></figure>
<h4 id="案例扩展"><a href="#案例扩展" class="headerlink" title="案例扩展"></a>案例扩展</h4><p>同一个类创建的多个对象之间，属性互不干扰</p>
<h5 id="需求-1"><a href="#需求-1" class="headerlink" title="需求"></a>需求</h5><ol>
<li>小明和小美都爱跑步</li>
<li>小明75.0Kg，小美45.0Kg</li>
<li>running减少0.5Kg</li>
<li>eating增加1Kg</li>
</ol>
<h5 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Person:</span><br><span class="line">    def __init__(self,name,weight):</span><br><span class="line">        # self.属性=形参</span><br><span class="line">        self.name=name</span><br><span class="line">        self.weight=weight</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &apos;my name is %s,my weight is %.1f&apos; %(self.name,self.weight)</span><br><span class="line">    def eating(self):</span><br><span class="line">        self.weight+=1</span><br><span class="line">    def running(self):</span><br><span class="line">        self.weight-=0.5</span><br><span class="line"></span><br><span class="line">xiaoming=Person(&apos;小明&apos;,75.0)</span><br><span class="line">xiaomei=Person(&apos;小美&apos;,45.0)</span><br><span class="line">xiaoming.eating()</span><br><span class="line">xiaoming.running()</span><br><span class="line">print(xiaoming)</span><br><span class="line">print(xiaomei)</span><br><span class="line"></span><br><span class="line">- - - - - - - - - - - - - -</span><br><span class="line">my name is 小明,my weight is 75.5</span><br><span class="line">my name is 小美,my weight is 45.0</span><br></pre></td></tr></table></figure>
<h4 id="摆放家具"><a href="#摆放家具" class="headerlink" title="摆放家具"></a>摆放家具</h4><h5 id="需求-2"><a href="#需求-2" class="headerlink" title="需求"></a>需求</h5><ol>
<li>房子House有户型，总面积和家具名称列表<ul>
<li>新房子没有任何家具</li>
</ul>
</li>
<li>家具HouseItem有名字和占地面积，其中<ul>
<li>席梦思bed占地4 m<sup>2</sup></li>
<li>衣柜chest占地2 m<sup>2</sup></li>
<li>餐桌table占地1.5 m<sup>2</sup></li>
</ul>
</li>
<li>将以上家具添加到房子中</li>
<li>打印房子时，要求输出：户型，总面积，剩余面积，家具名称列表</li>
</ol>
<p>类：House, HouseItem<br>各自属性：name，area ;   house_type, area, free_area, item_list<br>各自方法：</p>
<ul>
<li><code>__init__(self,name,area):</code>, <code>__str__(self):</code></li>
<li><code>__init__(self,house_type,area):</code>, <code>__str__(self):</code>, <code>add_item(self,item):</code></li>
</ul>
<p>注意更新房子剩余面积<br>在开发时，哪个类被用到就先开发哪个类</p>
<h5 id="实现-2"><a href="#实现-2" class="headerlink" title="实现"></a>实现</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">class HouseItem:</span><br><span class="line">    def __init__(self,name,area):</span><br><span class="line">        self.name=name</span><br><span class="line">        self.area=area</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &apos;This is %s , area is %.1f&apos; %(self.name,self.area)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class House:</span><br><span class="line">    def __init__(self,type,area):</span><br><span class="line">        self.type=type</span><br><span class="line">        self.area=area</span><br><span class="line">        self.free_area=area</span><br><span class="line">        self.item_list=[]</span><br><span class="line">    def __str__(self):</span><br><span class="line">        # Python会自动将一对括号内部的代码连接在一起</span><br><span class="line">        return (&apos;\n户型： %s\n总面积： %.1f(剩余%.1f)\n家具： %s&apos;</span><br><span class="line">                %(self.type,self.area,self.free_area,self.item_list))</span><br><span class="line">    def add_item(self,item):</span><br><span class="line">        print(&apos;\n添加家具%s,占地面积%.1f...&apos; %(item.name,item.area))</span><br><span class="line">        self.free_area-=item.area</span><br><span class="line">        self.item_list.append(item.name)</span><br><span class="line"></span><br><span class="line"># 1. 创建家具</span><br><span class="line">bed=HouseItem(&apos;ximengsi&apos;,4)</span><br><span class="line">chest=HouseItem(&apos;衣柜&apos;,2)</span><br><span class="line">table=HouseItem(&apos;餐桌&apos;,2)</span><br><span class="line">print(chest)</span><br><span class="line"></span><br><span class="line"># 2. 创建房子对象</span><br><span class="line">my_home=House(&apos;两室一厅&apos;,120)</span><br><span class="line">print(my_home)</span><br><span class="line">my_home.add_item(bed)</span><br><span class="line">print(my_home)</span><br><span class="line">my_home.add_item(chest)</span><br><span class="line">my_home.add_item(table)</span><br><span class="line">print(my_home)</span><br><span class="line"></span><br><span class="line">- - - - - - - - - - - - - -</span><br><span class="line">This is 衣柜 , area is 2.0</span><br><span class="line"></span><br><span class="line">户型： 两室一厅</span><br><span class="line">总面积： 120.0(剩余120.0)</span><br><span class="line">家具： []</span><br><span class="line"></span><br><span class="line">添加家具ximengsi,占地面积4.0...</span><br><span class="line"></span><br><span class="line">户型： 两室一厅</span><br><span class="line">总面积： 120.0(剩余116.0)</span><br><span class="line">家具： [&apos;ximengsi&apos;]</span><br><span class="line"></span><br><span class="line">添加家具衣柜,占地面积2.0...</span><br><span class="line"></span><br><span class="line">添加家具餐桌,占地面积2.0...</span><br><span class="line"></span><br><span class="line">户型： 两室一厅</span><br><span class="line">总面积： 120.0(剩余112.0)</span><br><span class="line">家具： [&apos;ximengsi&apos;, &apos;衣柜&apos;, &apos;餐桌&apos;]</span><br></pre></td></tr></table></figure>
<h5 id="进一步改进"><a href="#进一步改进" class="headerlink" title="进一步改进"></a>进一步改进</h5><p>在添加家具时，应该考虑到房子剩余面积不小于家具占地面积<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def add_item(self,item):</span><br><span class="line">    print(&apos;\n添加家具%s,占地面积%.1f...&apos; %(item.name,item.area))</span><br><span class="line">    if self.free_area&lt;item.area:</span><br><span class="line">        print(&apos;The remaining area is not enough to put down this furniture&apos;)</span><br><span class="line">        return </span><br><span class="line">    self.free_area-=item.area</span><br><span class="line">    self.item_list.append(item.name)</span><br></pre></td></tr></table></figure></p>
<h5 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h5><p>主程序只负责创建房子对象和家具对象<br>其余方法都被封装到类内部</p>
<h4 id="面向对象封装案例"><a href="#面向对象封装案例" class="headerlink" title="面向对象封装案例"></a>面向对象封装案例</h4><p>一个对象的属性可以是另一个类所创建的对象</p>
<h5 id="士兵突击"><a href="#士兵突击" class="headerlink" title="士兵突击"></a>士兵突击</h5><ol>
<li>许三多 有一把 AK47</li>
<li>士兵可以开火</li>
<li>枪可以发射子弹</li>
<li>枪能够装填子弹</li>
</ol>
<p>这里，枪对象就是士兵的属性<br>根据上述需求定义枪类和士兵类</p>
<h5 id="关于士兵类"><a href="#关于士兵类" class="headerlink" title="关于士兵类"></a>关于士兵类</h5><p>假设：一个新兵没有枪<br>定义没有初始值的属性<br>在定义属性时，如果不知道设置什么初始值，可以设置维<code>None</code></p>
<ul>
<li><code>None</code>关键字表示空</li>
<li>表示一个空对象，没有方法和属性，是一个特殊的常量</li>
<li>可以将<code>None</code>赋给任意一个变量</li>
</ul>
<h5 id="实现-3"><a href="#实现-3" class="headerlink" title="实现"></a>实现</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">class Gun:</span><br><span class="line">    def __init__(self,model,bullet):</span><br><span class="line">        self.model=model # 枪的型号</span><br><span class="line">        self.bullet=bullet # 子弹数量</span><br><span class="line">    def add_bullet(self,count):</span><br><span class="line">        self.bullet+=count</span><br><span class="line">    def shoot(self):</span><br><span class="line">        if self.bullet&lt;=0:</span><br><span class="line">            print(&quot;No bullets&quot;)</span><br><span class="line">            return 0</span><br><span class="line">        print(&apos;biubiubiu...&apos;)</span><br><span class="line">        self.bullet-=1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Soldier:</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        self.name=name</span><br><span class="line">        self.gun=None # 新兵没有枪</span><br><span class="line">    def fire(self):</span><br><span class="line">        # 1. 判断是否有枪</span><br><span class="line"></span><br><span class="line">        if self.gun is None: # 针对None比较时，建议使用is判断,&quot;is&quot;判断引用对象是否一样，“==”判断对象值是否一样</span><br><span class="line">            print(&apos;%s 还没有枪...&apos; %self.name)</span><br><span class="line">            return -1</span><br><span class="line">        self.gun.shoot()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 1. 创建枪对象</span><br><span class="line">ak47=Gun(&apos;AK47&apos;,36)</span><br><span class="line"></span><br><span class="line"># 2. 创建士兵</span><br><span class="line">xusanduo=Soldier(&apos;许三多&apos;)</span><br><span class="line">xusanduo.gun=ak47</span><br><span class="line">xusanduo.fire()</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://sfz-lyq.cn/2019/10/20/Python面向对象封装案例/" data-id="ck49myrsl004f5lpvm20z6lvf" class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/Python/">Python</a></li></ul>

    </footer>

  </div>

  
    
  <nav class="article-nav">
    
      <a href="../../21/Python单继承与方法重写/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            Python继承与属性
          
        </div>
      </a>
    
    
      <a href="../../11/Python面向对象/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">Python面向对象</div>
      </a>
    
  </nav>


  

  
    
  

</article>



</section>
    </div>
    <script src="../../../../js/jquery-2.0.3.min.js"></script>
<script src="../../../../js/lazyload.min.js"></script>
<script src="../../../../js/busuanzi-2.3.pure.min.js"></script>


  <script src="../../../../fancybox/jquery.fancybox.min.js"></script>



  <script src="../../../../js/search.js"></script>


<script src="../../../../js/technology.js"></script>

  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
</html>